#!/bin/bash
rm .bashrc
clear
while true; do
    echo "Nhập tên của bạn:"
 read user
    clear
sleep 1
    echo  "Bây giờ, bạn tên là $user."
clear
sleep 1
    echo "Bạn chắc chắn muốn dùng tên này chứ ? (C/k) :"
 read confirmation
    
    if [ "$confirmation" = "C" ] || [ "$confirmation" = "c" ]; then

        echo "export USER=\"$user\"" >> ~/.bashrc
		echo "PS1='\[\e[38;5;13m\]$user \[\e[38;5;11m\]\w\[\e[m\] \[\e[38;5;10m\]> \[\e[m\]'" >> .bashrc
clear
sleep 1

echo "$user có cần tùy chỉnh motd không? (C/k)"
read i
if [ "$i" = "C" ] || [ "$i" = "c" ]; then
clear
    rm /data/data/com.termux/files/usr/etc/motd
    echo "Vui lòng nhập những thứ mà bạn muốn ghi (dòng này sẽ xuất hiện khi đăng nhập):"
    read motd
    echo "export motd=\"$motd\"" >> ~/.bashrc
    echo "$motd      


" >> /data/data/com.termux/files/usr/etc/motd

clear
elif [ "$i" = "K" ] || [ "$i" = "k" ]; then
    return 0
fi
		echo "Bạn có muốn cài đặt toàn bộ setup của C-Kakao chứ ? (Bao gồm mobox, pd, proot, i3 config v.v) :"
read a

if [ "$a" = "C" ] || [ "$a" = "c" ]; then
pkg i git wget proot-distro proot feh i3 tur-repo x11-repo polybar rofi

git clone https://github.com/NekoKatoriChan/Neko-silly-termux-setup.git
sleep 1
clear
curl -s -o ~/x https://raw.githubusercontent.com/NekoKatoriChan/mobox/main/install && . ~/x
sleep 3
git clone --depth=1 https://github.com/adi1090x/polybar-themes.git && bash ~/polybar-themes/setup.sh
		sleep 2
mv ~/Neko-silly-termux-setup/config ~/.config/i3/
mv ~/Neko-silly-termux-setup/Arch-chan_to.png ~/
rm -rf ~/Neko-silly-termux-setup

	elif [ "$i" = "K" ] || [ "$i" = "k" ]; then
    return 0
fi

        echo "$user nên khởi động lại Termux hoặc nhập "source .bashrc" để áp dụng thay đổi."
sleep 3
	clear
	break        
    elif [ "$confirmation" = "K" ] || [ "$confirmation" = "k" ]; then
        echo "Hãy nhập lại tên."
    else
        echo "Lựa chọn không hợp lệ. Vui lòng nhập 'C' hoặc 'K'."
    fi

done


